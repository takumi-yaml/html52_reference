# 2.2. Conformance requirements

- キーワード "MUST"、 "MUST NOT"、 "REQUIRED"、 "SHALL"、 "SHALL NOT"、 "SHOULD"、 "SHOULD NOT"、 "RECOMMENTDED"、 "RECOMMENTDED" "MAY" "OPTIONAL"は、RFC2119に記述されているように解釈されるべきである。
- この文書の規範的部分におけるキーワード「OPTIONALLY」は、「MAY」および「OPTIONAL」と同じ規範的意味で解釈されるべきである。
- 読みやすくするために、これらの単語は、この仕様ではすべて大文字ではありません。
    - [RFC2119](https://www.w3.org/TR/html/references.html#biblio-rfc2119)


- アルゴリズムの一部として必須の要件(「先頭の空白文字を取り除く」や「偽を返してこれらのステップを中止する」など、)アルゴリズムを導入する際に使用するキーワード（ "must"、 "should"、 "may"など）の意味で解釈されます。

```
例:5
たとえば、次のようなスペックがありました。
To eat an orange, the user must:
1. Peel the orange.
2. Separate each slice of the orange.
3. Eat the orange slices.

次のようになります
To eat an orange:
1. The user must peel the orange.
2. The user must separate each slice of the orange.
3. The user must eat the orange slices.

Here the key word is "must".
前者（命令的）スタイルは、この仕様書では一般的に文体上の理由から好ましい。
```

- アルゴリズムまたは特定のステップとして表現された適合要件は、最終結果が同等である限り、任意の方法で実施することができる。
    - （特に、本定義書で定義されたアルゴリズムは、容易に従えるよう意図しており、高性能すぎることを意図したものではない。）


## 2.2.1. Conformance classes

- この仕様は、(実装者に関連する)ユーザエージェントと(著者やオーサリングツールの作成者に関連する)ドキュメントの適合基準について述べている
- 適合文書は、文書のすべての適合基準に準拠するそれらのものです。
- 読みやすいように、これらの適合要件のいくつかは、著者に対する適合要件として表現されています。
- このような要件は、文書に対する暗黙の要件ですが、定義上、すべての文書は著者を有すると仮定される。
    - 場合によっては、その作者自体がユーザエージェントであるかもしれない - そのようなユーザエージェントは、以下で説明するように、追加規則の対象となる。


```
例:6
たとえば、「作成者がfoobar要素を使用してはならない」という要件には、
文書にfoobarという名前の要素が含まれていないことが示されます。
```

- 注
    - ドキュメントの適合要件と実装の適合要件との間に暗黙の関係はありません。
    - ユーザエージェントは、準拠していないドキュメントを自由に扱うことはできません。
    - この仕様書に記述されている処理モデルは、入力文書の適合性にかかわらず実装に適用されます。

- ユーザーエージェントは、さまざまな適合要件を持つ複数の（重複する）カテゴリに分類されます。


### Webブラウザおよびその他の対話型ユーザーエージェント

- XHTML構文をサポートするWebブラウザーは、この仕様で説明されているように、XML文書にあるHTML名前空間の要素と属性を処理する必要があります。
    - それらの要素のセマンティクスが他の仕様によって上書きされていない限り、ユーザーはそれらとやりとりすることができます。

```
例:7
適合するXHTMLプロセッサは、XML文書中のXHTML script要素を見つけると、
その要素に含まれるスクリプトを実行する。
しかし、要素がXSLTで表現された変換で見つかった場合、
（ユーザーエージェントもXSLTをサポートしていると仮定して）
プロセッサは代わりにscript要素を変換の一部を形成する不透明な要素として扱います。
```

- HTML構文をサポートするWebブラウザは、この仕様で説明されているようにHTML MIMEタイプでラベル付けされたドキュメントを処理しなければならないため、ユーザーはそれらを操作できます。
- スクリプティングをサポートするユーザーエージェントも、Web IDL仕様で説明されているように、この仕様のIDLフラグメントの実装に準拠している必要があります。
    - [WEBIDL](https://www.w3.org/TR/html/references.html#biblio-webidl)

- 注
    - 明示的に述べられていない限り、HTML要素のセマンティクスをオーバーライドする仕様は、それらの要素を表すDOMオブジェクトの要件を上書きしません。
    - 例えば、上記の例のscript要素は、HTMLScriptElementインターフェイスを実装します。


### 非インタラクティブプレゼンテーションユーザエージェント

- HTMLやXHTML文書を純粋に非対話型のものにするユーザエージェントは、ユーザインタラクションに関する要件を免除されている点を除いて、Webブラウザと同じ基準を満たしていなければならない。

- 注
    - 非インタラクティブプレゼンテーションユーザエージェントの典型的な例は、プリンタ（静的ユーザエージェント）およびオーバーヘッドディスプレイ（動的ユーザエージェント）である。
    - ほとんどの静的な非インタラクティブなプレゼンテーション・ユーザー・エージェントは、スクリプティングのサポートを欠くことも期待されます。


```
例:8

非インタラクティブでダイナミックなプレゼンテーションユーザエージェントは、
依然としてスクリプトを実行し、フォームを動的に提出できるようにします。
しかし、ユーザがドキュメントと対話できない場合、
「フォーカス」という概念は無関係であるため、
ユーザエージェントはフォーカス関連のDOM APIをサポートする必要はありません。
```


### 提示されたデフォルトレンダリングをサポートするビジュアルユーザエージェント

- インタラクティブであろうとなかろうと、ユーザーエージェントは、この仕様で定義されている推奨されるデフォルトレンダリングをサポートするものとして（おそらくユーザーオプションとして）指定することができます。
- これは必須ではありません。
    - 特に、推奨されるデフォルトのレンダリングを実装するユーザーエージェントであっても、ユーザーのエクスペリエンスを向上させるためにこのデフォルトをオーバーライドする設定を提供することをお勧めします。
    - 色のコントラストを変更すること、異なるフォーカススタイルを使用すること、またはユーザがよりアクセスしやすく使用しやすくすることなどが含まれる。
- 提案されたデフォルトレンダリングをサポートするように指定されているユーザエージェントは、そのように指定されている間は、10章レンダリングのルールを実装しなければならない。
    - そのセクションは、ユーザーエージェントが実装すると予想される動作を定義します。


### スクリプトをサポートしていないユーザエージェント

- スクリプトをサポートしていない（またはスクリプト機能が完全に無効になっている）実装は、この仕様で言及されているイベントとDOMインタフェースのサポートが免除されています。
- イベントモデルまたはDOMを定義しているこの仕様の部分、UAはイベントやDOMがサポートされているかのように振る舞わなければならない。

- 注
    - スクリプティングは、アプリケーションの不可欠な部分を構成できます。
    - スクリプトをサポートしていない、または無効なブラウザは著者の意図を完全に伝えることができない可能性があります。


### 適合性チェッカ

- 適合性チェッカーは、文書が本仕様書に記載されている適合基準に準拠していることを検証しなければならない。
- 自動適合性チェッカーは、制作者の意図を解釈する必要があるエラーの検出を免除されます
    - 例えば、`blockquote`要素の内容がクォートでない場合、ドキュメントが不適合である場合に、人間の判断の入力なしで実行される適合性チェッカは、`blockquote`要素がクオートされたのみを含む要素をチェックする必要はない

- コンフォーマンスチェッカは、閲覧コンテキストなしで解析されたときに入力ドキュメントが適合していることをチェックする必要があります
    - スクリプトが実行されず、パーサーのスクリプトフラグが無効になっていることを意味します
- また、スクリプトが実行されるブラウジングコンテキストで解析されたときにも入力ドキュメントが適合していることを確認する必要があります
- スクリプトが、スクリプト実行中に一時的の他に、準拠していない状態を発生させないことも確認する必要があります。
    - これは不可能であることが証明されているため、`MUST`ではなく、`SHOULD`です。
    - [COMPUTABLE](https://www.w3.org/TR/html/references.html#biblio-computable)

- 「HTMLバリデーター」という用語は、それ自体がこの仕様の適用可能な要件に準拠しているコンフォーマンスチェッカーを指すために使用できます。

- 注
    - XML DTDは、この仕様のすべての適合要件を表すことはできません。
    - 従って、検証用のXMLプロセッサーとDTDは、適合性チェッカーを構成することができません。
    - また、本仕様書で定義されている2つのオーサリング形式のいずれもSGMLのアプリケーションではないため、検証用SGMLシステムは適合性チェッカを構成することができない。
    - 言い換えれば、適合基準には3つのタイプがあります。
        1. DTDで表現できる基準。
        2. DTDで表現できないが、マシンでチェックできる基準。
        3. 人間しか確認できない基準。
    - 適合性チェッカーは最初の2つを確認する必要があります。
    - 単純なDTDベースのバリデーターは、最初のクラスのエラーのみをチェックするため、この仕様に準拠した適合性チェッカーではありません。


### データマイニングツール

- 文書をレンダリングするか、または適合性をチェックする以外の理由でHTMLやXHTML文書を処理するアプリケーションやツールは、処理する文書のセマンティクスに従って動作する必要があります。

```
例:9
ドキュメントのアウトラインを生成しますが、各段落の入れ子レベルを上げ、
各セクションの入れ子レベルを上げないツールは適合しないだろう。
```


### オーサリングツールとマークアップジェネレータ

- オーサリングツールとマークアップジェネレータは、適合するドキュメントを生成する必要があります。
- 制作者に適用される適合基準は、必要に応じてオーサリングツールにも適用されます。


```
例:10
任意の連絡先情報にaddress要素を使用することは準拠していません。
要素は、文書またはセクションの作成者の連絡先情報をマークアップするためにのみ使用できます。
しかし、オーサリングツールは違いを判断できない可能性が高いため、
オーサリングツールはその要件から免除されます。
しかし、これは例えばイタリック体のテキストブロックのために
address要素を使えることを意味していない。
ユーザーがセクションかその他のものに連絡先情報を挿入した場合、
オーサリングツールが確認する必要がないことを意味します。
```

- 注
    - 適合性チェックの面でエディタは、適合性チェッカが検証するのと同じ程度に適合する文書を出力しなければならない。

- オーサリングツールを使用して不適合文書を編集する場合、編集セッション中に編集されなかった文書のセクションに適合エラーを保存することがあります
    - すなわち、編集ツールが誤ったコンテンツをラウンドトリップすることを許可される
-  しかし、オーサリングツールは、エラーが保存されていれば、出力が適合していると主張してはなりません。


- オーサリングツールは、大きく2つの種類があります。
- 構造やセマンティックデータから作業するツール、What-You-See-Is-What-You-Get メディア固有の編集ベース（WYSIWYG）で動作するツールなどがあります。
- 前者は、ソース情報の構造を使用して、どのHTML要素と属性が最も適切であるかに関する情報に基づいた選択を行うことができるため、HTMLを作成するツールにとって好ましい仕組みです。
- ただし、WYSIWYGツールは正当なものです。
- WYSIWYGツールは、適切であると分かっている要素を使用すべきであり、適切ではないことを知らない要素は使用しないでください。
    - これは極端な場合には、フロー要素の使用をいくつかの要素(`div`, `b`, `i`, `span`のような)に限定し、`style`属性を自由に使うことを意味します

- WYSIWYGであろうとなかろうと、すべてのオーサリングツールは、構造化されたセマンティックな、メディアに依存しないコンテンツをユーザーが作成できるようにするために最善の努力をするべきです。

- ユーザエージェントは、サービス拒否攻撃を防ぐ、メモリ不足を防ぐ、またはプラットフォーム固有の制限を回避するなど、制約のない入力には実装固有の制限を課すことがあります。

- 既存のコンテンツおよび以前の仕様との互換性のために、この定義書は2つの作成フォーマットを定義します
    - 1つはXML（XHTML構文と呼ばれる）に基づくもの、もう1つはSGMLに触発されたカスタム形式（HTML構文と呼ばれる）を使用するものです。
    - 実装は、これらの2つのフォーマットの少なくとも1つをサポートする必要がありますが、両方をサポートすることが推奨されます。

- いくつかの適合要件は、要素、属性、メソッドまたはオブジェクトの要件として表現されています。
    - そのような要件は、コンテンツモデルの制約を定義する要件と、実装の動作を定義する要件の2つに分類されます。
- 前者のカテゴリには、ドキュメントとオーサリングツールの要件があります。
- 2番目のカテゴリにあるものは、ユーザエージェントに対する要件です。
- 同様に、いくつかの適合要件は、制作者の要件として表現されています。
    - そのような要件は、制作者が作成するドキュメントに対する適合要件として解釈されるべきである。
    - 言い換えれば、この仕様書は、制作者の適合基準と文書の適合基準を区別していません


## 2.2.2. Dependencies

- この仕様は、他のいくつかの基本仕様に依存しています。


### ユニコードとエンコーディング

- Unicode文字セットはテキストデータを表現するために使用され、Encoding仕様は文字エンコードに関する要件を定義します。
    - [UNICODE](https://www.w3.org/TR/html/references.html#biblio-unicode)

- 注
    - この仕様では、前述のように、これらの仕様で定義されている用語に基づいて用語を導入しています。

- 以下の用語は、コーディング仕様で定義されているように使用されます
    - [ENOCODING](https://www.w3.org/TR/html/references.html#biblio-encoding)

- エンコーディングを取得する
- 表示用エンコーディングを取得する
- バイトストリームとエンコーディングと文字ストリームを一般的なデコードアルゴリズム
- バイトストリームを受け取り、文字ストリームを返すUTF-8デコードアルゴリズム。先頭に1つのUTF-8バイトオーダーマーク（BOM）があればそれをさらに削除する
- BOMアルゴリズムを使用しないUTF-8デコードは、UTF-8デコードと同じですが、先行するUTF-8バイトオーダーマーク（BOM）の1つを削除しないことを除く
- BOMアルゴリズムを使用しないUTF-8デコードは、UTF-8デコードと同じですが、先行するUTF-8バイトオーダーマーク（BOM）の1つを削除しないことを除けば、
- 文字ストリームを取り、バイトストリームを返すUTF-8エンコードアルゴリズム。
- BOMなしのUTF-8デコード、またはBOMなしのUTF-8デコードと同一のフェイルアルゴリズム。エラーが発生した場合にエラーを返す
- 文字ストリームを取り、バイトストリームを返すUTF-8エンコードアルゴリズム。


### XMLおよび関連する仕様

- XHTML構文をサポートする実装では、XMLの一部のバージョンとそれに対応する名前空間の仕様がサポートされている必要があります。これは、その構文が名前空間でXMLシリアル化を使用するためです。
    -  [XML](https://www.w3.org/TR/html/references.html#biblio-xml)
    - [XML-NAMES](https://www.w3.org/TR/html/references.html#biblio-xml-names)
- XML名前空間内のタグ名`xml：space`を持つ属性は、XML仕様で定義されています。
    -  [XML](https://www.w3.org/TR/html/references.html#biblio-xml)
- この仕様はまた、`<?xml-stylesheet?>`処理命令を参照します。これは、スタイルシートとXML文書の関連付けの仕様で定義されています。
- この仕様では、非標準的にXSLTProcessorインターフェイスについても言及しています
    - [https://www.w3.org/TR/html/references.html#biblio-xsltp]


### URLs

- 次の用語は、WHATWG URL仕様で定義されています
    - [URL](https://www.w3.org/TR/html/references.html#biblio-url)

- host
- domain
- URL
- Origin of URLs
- Absolute URL
- Relative URL
- Relative schemes
- The URL parser and basic URL parser as well as these parser states:
    - scheme start state
    - host state
    - hostname state
    - port state
    - path start state
    - query state
    - fragment state
- URL record, as well as its individual components:
    - scheme
    - username
    - password
    - host
    - port
    - path
    - query
    - fragment
- A network scheme
- The URL serializer
- The host parser
- The host serializer
- Host equals
- serialize an integer
- Default encode set
- Percent encode
- UTF-8 percent encode
- Percent decode
- set the username
- set the password
- The domain to Unicode algorithm
- non-relative flag
- Parse errors from the URL parser

- この仕様では、いくつかのスキームとプロトコルも参照されています

- The about: scheme
    - [RFC6694](https://www.w3.org/TR/html/references.html#biblio-rfc6694)
- The blob: scheme
    - [FILEAPI](https://www.w3.org/TR/html/references.html#biblio-fileapi)
- The data: scheme
    - [RFC2397](https://www.w3.org/TR/html/references.html#biblio-rfc2397)
- The http: scheme
    - [HTTP](https://www.w3.org/TR/html/references.html#biblio-http)
- The https: scheme
    - [HTTP](https://www.w3.org/TR/html/references.html#biblio-http)
- The mailto: scheme
    - [RFC6068](https://www.w3.org/TR/html/references.html#biblio-rfc6068)
- The sms: scheme
    - [RFC5724](https://www.w3.org/TR/html/references.html#biblio-rfc5724)
- The urn: scheme
    - [URN](https://www.w3.org/TR/html/references.html#biblio-urn)

- Media fragment syntaxは、Media Fragments URI仕様で定義されています。
    - [MEDIA-FRAGS](https://www.w3.org/TR/html/references.html#biblio-media-frags)

### HTTP and related specifications

- 次の用語は、HTTP仕様で定義されています
    - [HTTP](https://www.w3.org/TR/html/references.html#biblio-http)

- [Accept header](https://tools.ietf.org/html/rfc7231#section-5.3.2)
- [Accept-Language header](https://tools.ietf.org/html/rfc7231#section-5.3.5)
- [Cache-Control header](https://tools.ietf.org/html/rfc7234#section-5.2)
- [Content-Disposition header](https://tools.ietf.org/html/rfc6266#section-4.1)
- [Content-Language header](https://tools.ietf.org/html/rfc7231#section-3.1.3.2)
- [Content-Length header](https://tools.ietf.org/html/rfc7230#section-3.3.2)
- [Last-Modified header](https://tools.ietf.org/html/rfc7232#section-2.2)
- [Referer](https://tools.ietf.org/html/rfc7231#section-5.5.2)

- 以下の用語は、Cookie仕様で定義されています。
    - [COOKIES](https://www.w3.org/TR/html/references.html#biblio-cookies)

- cookie-string
- [receives a set-cookie-string](https://tools.ietf.org/html/rfc6265#section-4.1)
- [Cookie header](https://tools.ietf.org/html/rfc6265#section-5.4)


- 次の用語はWeb Linking仕様で定義されています。
    - [RFC5988](https://www.w3.org/TR/html/references.html#biblio-rfc5988)

- [Link header](https://tools.ietf.org/html/rfc5988#section-5)


### Fetch

- 次の用語は、WHATWGフェッチ仕様で定義されています
    - [FETCH](https://www.w3.org/TR/html/references.html#biblio-fetch)

- [about:blank](https://www.w3.org/TR/html/infrastructure.html#schemedef-about)
- [HTTPS state value](https://fetch.spec.whatwg.org/#concept-https-state-value)
- [referrer policy](https://www.w3.org/TR/html/dom.html#concept-document-referrer-policy)
- [CORS protocol](https://fetch.spec.whatwg.org/#http-cors-protocol)
- [default User-Agent value](https://fetch.spec.whatwg.org/#default-user-agent-value)
- [extract a MIME type](https://fetch.spec.whatwg.org/#concept-header-extract-mime-type)
- [fetch](https://fetch.spec.whatwg.org/#concept-fetch)
- [ok status](https://fetch.spec.whatwg.org/#ok-status)
- [Origin header](https://fetch.spec.whatwg.org/#origin-header)
- [process response](https://fetch.spec.whatwg.org/#process-response)
- [set](https://fetch.spec.whatwg.org/#concept-header-list-set)
- [terminate](https://fetch.spec.whatwg.org/#concept-fetch-terminate)
- [the RequestCredentials enumeration](https://fetch.spec.whatwg.org/#requestcredentials)
- [response and its associated](https://fetch.spec.whatwg.org/#concept-response)
    - [type](https://fetch.spec.whatwg.org/#concept-response-type)
    - [url](https://fetch.spec.whatwg.org/#concept-response-url)
    - [url list](https://fetch.spec.whatwg.org/#concept-response-url-list)
    - [status](https://fetch.spec.whatwg.org/#concept-status)
    - [header list](https://fetch.spec.whatwg.org/#concept-response-header-list)
    - [body](https://fetch.spec.whatwg.org/#concept-response-body)
    - [internal response](https://fetch.spec.whatwg.org/#concept-internal-response)
    - [CSP list](https://fetch.spec.whatwg.org/#concept-response-csp-list)
    - [HTTPS state](https://fetch.spec.whatwg.org/#concept-response-https-state)
- [request and its associated](https://fetch.spec.whatwg.org/#concept-request)
    - [url](https://fetch.spec.whatwg.org/#concept-request-url)
    - [method](https://fetch.spec.whatwg.org/#concept-request-method)
    - [header list](https://fetch.spec.whatwg.org/#concept-request-header-list)
    - [body](https://fetch.spec.whatwg.org/#concept-request-body)
    - [client](https://fetch.spec.whatwg.org/#concept-request-client)
    - [target browsing context](https://fetch.spec.whatwg.org/#concept-request-target-browsing-context)
    - [initiator](https://fetch.spec.whatwg.org/#concept-request-initiator)
    - [type](https://fetch.spec.whatwg.org/#concept-request-type)
    - [destination](https://fetch.spec.whatwg.org/#concept-request-destination)
    - [origin](https://fetch.spec.whatwg.org/#concept-request-origin)
    - [omit-Origin-header flag](https://fetch.spec.whatwg.org/#omit-origin-header-flag)
    - [same-origin data-URL flag](https://fetch.spec.whatwg.org/#same-origin-data-url-flag)
    - [referrer](https://fetch.spec.whatwg.org/#concept-request-referrer)
    - [synchronous flag](https://fetch.spec.whatwg.org/#synchronous-flag)
    - [mode](https://fetch.spec.whatwg.org/#concept-request-mode)
    - [credentials mode](https://fetch.spec.whatwg.org/#concept-request-credentials-mode)
    - [use-URL-credentials flag](https://fetch.spec.whatwg.org/#concept-request-use-url-credentials-flag)
    - [unsafe-request flag](https://fetch.spec.whatwg.org/#unsafe-request-flag)
    - [cache mode](https://fetch.spec.whatwg.org/#concept-request-cache-mode)
    - [redirect mode](https://fetch.spec.whatwg.org/#concept-request-redirect-mode)
    - [cryptographic nonce metadata](https://fetch.spec.whatwg.org/#concept-request-nonce-metadata)
    - [referrer policy](https://fetch.spec.whatwg.org/#concept-request-referrer-policy)
    - [parser metadata](https://fetch.spec.whatwg.org/#concept-request-parser-metadata)
- 以下の用語はリファラーポリシーにて定義されています [REFERRERPOLICY](https://www.w3.org/TR/html/references.html#biblio-referrerpolicy)
    - [referrer policy](https://fetch.spec.whatwg.org/#concept-request-referrer-policy)
    - The Referrer-Policy HTTP header
    - The parse a referrer policy from a Referrer-Policy header algorithm
    - The "no-referrer", "no-referrer-when-downgrade", and "unsafe-url" referrer policies


### Web IDL
- この仕様にあるIDLフラグメントは、Web IDL仕様に記述されているように、IDLフラグメントに適合するために実装されていないといけません。

- 次の用語はWeb IDL仕様で定義されています
    - [array index property name]()
    - [supported property indices](https://www.w3.org/TR/WebIDL-1/#dfn-supported-property-indices)
    - [Determine the value of an indexed property](https://www.w3.org/TR/WebIDL-1/#dfn-determine-the-value-of-an-indexed-property)
    - [Support named properties](https://www.w3.org/TR/WebIDL-1/#dfn-support-named-properties)
    - [Supported property names](https://www.w3.org/TR/WebIDL-1/#dfn-supported-property-names)
    - [Determine the value of a named property](https://www.w3.org/TR/WebIDL-1/#dfn-determine-the-value-of-a-named-property)
    - [perform a security check](https://www.w3.org/TR/WebIDL-1/#dfn-perform-a-security-check)
    - [Platform object](https://www.w3.org/TR/WebIDL-1/#dfn-platform-object)
    - [Primary interface](https://www.w3.org/TR/WebIDL-1/#dfn-primary-interface)
    - [Global environment associated with a platform object](https://www.w3.org/TR/WebIDL-1/#es-platform-objects)
    - [Read only (when applied to arrays)](https://www.w3.org/TR/WebIDL-1/#dfn-read-only)
    - [Callback this value](https://www.w3.org/TR/WebIDL-1/#dfn-callback-this-value)
    - [Converting between WebIDL types and JS types](https://www.w3.org/TR/WebIDL-1/#es-type-mapping)
    - [invoke the Web IDL callback function](https://www.w3.org/TR/WebIDL-1/#es-invoking-callback-functions)

- Web IDL仕様では、この仕様のWeb IDLフラグメントで使用される次のタイプも定義しています。
    - [ArrayBufferView](https://www.w3.org/TR/WebIDL-1/#common-ArrayBufferView)
    - [boolean](https://www.w3.org/TR/WebIDL-1/#idl-boolean)
    - [DOMString](https://www.w3.org/TR/WebIDL-1/#idl-DOMString)
    - [USVString](https://www.w3.org/TR/WebIDL-1/#idl-USVString)
    - [double](https://www.w3.org/TR/WebIDL-1/#idl-double)
    - [Error](https://www.w3.org/TR/WebIDL-1/#idl-Error)
    - [Function](https://www.w3.org/TR/css-syntax-3/#function)
    - [long](https://www.w3.org/TR/WebIDL-1/#idl-long)
    - [object](https://url.spec.whatwg.org/#concept-url-object)
    - [unrestricted double](https://www.w3.org/TR/WebIDL-1/#idl-unrestricted-double)
    - [unsigned long](https://www.w3.org/TR/WebIDL-1/#idl-unsigned-long)

- この仕様のスロー`throw`という用語は、WebIDL仕様で定義されているように使用されます。
    - 次の例外名はWebIDLによって定義され、この仕様で使用されます。

- [IndexSizeError](https://www.w3.org/TR/WebIDL-1/#indexsizeerror)
- [HierarchyRequestError](https://www.w3.org/TR/WebIDL-1/#hierarchyrequesterror)
- [WrongDocumentError](https://www.w3.org/TR/WebIDL-1/#wrongdocumenterror)
- [InvalidCharacterError](https://www.w3.org/TR/WebIDL-1/#invalidcharactererror)
- [NoModificationAllowedError](https://www.w3.org/TR/WebIDL-1/#nomodificationallowederror)
- [NotFoundError](https://www.w3.org/TR/WebIDL-1/#notfounderror)
- [NotSupportedError](https://www.w3.org/TR/WebIDL-1/#notsupportederror)
- [InvalidStateError](https://www.w3.org/TR/WebIDL-1/#invalidstateerror)
- [SyntaxError](http://www.ecma-international.org/ecma-262/6.0/#sec-native-error-types-used-in-this-standard-syntaxerror)
- [InvalidModificationError](https://www.w3.org/TR/WebIDL-1/#invalidmodificationerror)
- [NamespaceError](https://www.w3.org/TR/WebIDL-1/#namespaceerror)
- [InvalidAccessError](https://www.w3.org/TR/WebIDL-1/#invalidaccesserror)
- [SecurityError](https://www.w3.org/TR/WebIDL-1/#securityerror)
- [NetworkError](https://www.w3.org/TR/WebIDL-1/#networkerror)
- [AbortError](https://www.w3.org/TR/WebIDL-1/#aborterror)
- [URLMismatchError](https://www.w3.org/TR/WebIDL-1/#urlmismatcherror)
- [QuotaExceededError](https://www.w3.org/TR/WebIDL-1/#quotaexceedederror)
- [TimeoutError](https://www.w3.org/TR/WebIDL-1/#timeouterror)
- [InvalidNodeTypeError](https://www.w3.org/TR/WebIDL-1/#invalidnodetypeerror)
- [DataCloneError](https://www.w3.org/TR/WebIDL-1/#datacloneerror)

- この仕様では、ユーザエージェントが特定の時刻（Not-a-Numberの特別な値）を表すDateオブジェクトを作成する必要がある場合、その時間のミリ秒の要素が整数に切り捨てられなければならず、新しく作成されたDateオブジェクトの時間値は切り捨てられた時間を表す必要があります。

```
例: 11
たとえば、2000年1月1日の01:00 UTCの2億7,500万分の1秒後に、すなわち、2000-01-01T00:00:00.023045Zの時刻
その時間を表す作成されたDateオブジェクトは、2000-01-01T00:00:00.023Z、
つまり4500万分の前の時刻を表す作成されたものと同じ時刻を表します。
指定された時刻がNaNの場合、結果はDateオブジェクトのNaN時刻値を表す
オブジェクトが特定の瞬間を表さないことを示す
```


### JavaScript

- この仕様で記述されている言語の一部は、基本的なスクリプト言語としてJavaScriptのみをサポートしています。
    - [ECMA-262](https://www.w3.org/TR/html/references.html#biblio-ecma-262)


- 注
    - JavaScriptという用語は、JavaScriptという用語がより広く知られているため、ECMAAScriptというオフィシャルな単語ではなく、ECMA262を参照されています。
    - 同様に、この仕様のJavaScriptを参照するために使用されるMIMEタイプは`text/javascript`です。これは、RFC 4329に基づいて正式に廃止されたタイプであるにもかかわらず、最も一般的に使用されるタイプです。
        - [RFC4329](https://www.w3.org/TR/html/references.html#biblio-rfc4329)

- 以下の用語は、JavaScript仕様で定義され、この仕様で使用されています
    - [ECMA-262](https://www.w3.org/TR/html/references.html#biblio-ecma-262)

- [automatic semicolon insertion](https://tc39.github.io/ecma262/#sec-automatic-semicolon-insertion)
- [early error](https://tc39.github.io/ecma262/#early-error-rule)
- [Directive Prologue](https://tc39.github.io/ecma262/#directive-prologue)
- [JavaScript execution context](https://tc39.github.io/ecma262/#sec-execution-contexts)
- [JavaScript execution context stack](https://tc39.github.io/ecma262/#sec-execution-context-stack)
- [running JavaScript execution context](https://tc39.github.io/ecma262/#sec-running-execution-context)
- [JavaScript realm](https://tc39.github.io/ecma262/#sec-code-realms)
- [The current Realm Record](https://tc39.github.io/ecma262/#current-realm)
- [Use Strict Directive](https://tc39.github.io/ecma262/#use-strict-directive)
- [Well-Known Symbols, including:](https://tc39.github.io/ecma262/#sec-well-known-symbols)
    - @@hasInstance
    - @@isConcatSpreadable
    - @@toPrimitive
    - @@toStringTag
- [Well-Known Intrinsic Objects, including:](https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects)
    - [%ArrayBuffer%](https://tc39.github.io/ecma262/#sec-arraybuffer-constructor)
    - [%ArrayPrototype%](https://tc39.github.io/ecma262/#sec-properties-of-the-array-prototype-object)
    - [%ObjProto_toString%](https://tc39.github.io/ecma262/#sec-object.prototype.tostring)
    - [%ObjProto_valueOf%](https://tc39.github.io/ecma262/#sec-object.prototype.valueof)
- [The FunctionBody production](https://tc39.github.io/ecma262/#prod-FunctionBody)
- [The Module production](https://tc39.github.io/ecma262/#prod-module)
- [The Pattern production](https://tc39.github.io/ecma262/#prod-Pattern)
- [The Script production](https://tc39.github.io/ecma262/#prod-Script)
- [The Type notation](https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values)
- [The List and Record specification types](https://tc39.github.io/ecma262/#sec-list-and-record-specification-type)
- [The Property Descriptor specification type](https://tc39.github.io/ecma262/#sec-property-descriptor-specification-type)
- [The Source Text Module Record specification type](https://tc39.github.io/ecma262/#sec-source-text-module-records)
    - [and its ModuleEvaluation](https://tc39.github.io/ecma262/#sec-moduleevaluation)
    - [and ModuleDeclarationInstantiation methods](https://tc39.github.io/ecma262/#sec-moduledeclarationinstantiation)
- [The ArrayCreate abstract operation](https://tc39.github.io/ecma262/#sec-arraycreate)
- [The Call abstract operation](https://tc39.github.io/ecma262/#sec-call)
- [The Construct abstract operation](https://tc39.github.io/ecma262/#sec-construct)
- The CopyDataBlockBytes abstract operation
- The CreateByteDataBlock abstract operation
- [The CreateDataProperty abstract operation](https://tc39.github.io/ecma262/#sec-createdataproperty)
- [The DetachArrayBuffer abstract operation](https://tc39.github.io/ecma262/#sec-detacharraybuffer)
- [The EnqueueJob abstract operation](https://tc39.github.io/ecma262/#sec-enqueuejob)
- [The FunctionCreate abstract operation](https://tc39.github.io/ecma262/#sec-functioncreate)
- [The Get abstract operation](https://tc39.github.io/ecma262/#sec-get-o-p)
- [The GetActiveScriptOrModule abstract operation](https://tc39.github.io/ecma262/#sec-getactivescriptormodule)
- [The GetFunctionRealm abstract operation](https://tc39.github.io/ecma262/#sec-getfunctionrealm)
- [The HasOwnProperty abstract operation](https://tc39.github.io/ecma262/#sec-hasownproperty)
- [The HostEnsureCanCompileStrings abstract operation](https://tc39.github.io/ecma262/#sec-hostensurecancompilestrings)
- [The HostPromiseRejectionTracker abstract operation](https://tc39.github.io/ecma262/#sec-host-promise-rejection-tracker)
- [The HostResolveImportedModule abstract operation](https://tc39.github.io/ecma262/#sec-hostresolveimportedmodule)
- [The InitializeHostDefinedRealm abstract operation](https://tc39.github.io/ecma262/#sec-initializehostdefinedrealm)
- [The IsAccessorDescriptor abstract operation](https://tc39.github.io/ecma262/#sec-isaccessordescriptor)
- [The IsCallable abstract operation](https://tc39.github.io/ecma262/#sec-iscallable)
- [The IsConstructor abstract operation](https://tc39.github.io/ecma262/#sec-isconstructor)
- [The IsDataDescriptor abstract operation](https://tc39.github.io/ecma262/#sec-isdatadescriptor)
- [The IsDetachedBuffer abstract operation](https://tc39.github.io/ecma262/#sec-isdetachedbuffer)
- [The NewObjectEnvironment abstract operation](https://tc39.github.io/ecma262/#sec-newobjectenvironment)
- [The OrdinaryGetPrototypeOf abstract operation](https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof)
- [The OrdinarySetPrototypeOf abstract operation](https://tc39.github.io/ecma262/#sec-ordinarysetprototypeof)
- [The OrdinaryIsExtensible abstract operation](https://tc39.github.io/ecma262/#sec-ordinaryisextensible)
- [The OrdinaryPreventExtensions abstract operation](https://tc39.github.io/ecma262/#sec-ordinarypreventextensions)
- [The OrdinaryGetOwnProperty abstract operation](https://tc39.github.io/ecma262/#sec-ordinarygetownproperty)
- [The OrdinaryDefineOwnProperty abstract operation](https://tc39.github.io/ecma262/#sec-ordinarydefineownproperty)
- [The OrdinaryGet abstract operation](https://tc39.github.io/ecma262/#sec-ordinaryget)
- [The OrdinarySet abstract operation](https://tc39.github.io/ecma262/#sec-ordinaryset)
- [The OrdinaryDelete abstract operation](https://tc39.github.io/ecma262/#sec-ordinarydelete)
- [The OrdinaryOwnPropertyKeys abstract operation](https://tc39.github.io/ecma262/#sec-ordinaryownpropertykeys)
- [The ParseModule abstract operation](https://tc39.github.io/ecma262/#sec-parsemodule)
- [The ParseScript abstract operation](https://tc39.github.io/ecma262/#sec-parse-script)
- [The RunJobs abstract operation](https://tc39.github.io/ecma262/#sec-runjobs)
- [The SameValue abstract operation](https://tc39.github.io/ecma262/#sec-samevalue)
- [The ScriptEvaluation abstract operation](https://tc39.github.io/ecma262/#sec-runtime-semantics-scriptevaluation)
- [The ToBoolean abstract operation](https://tc39.github.io/ecma262/#sec-toboolean)
- [The ToString abstract operation](https://tc39.github.io/ecma262/#sec-tostring)
- [The ToUint32 abstract operation](https://tc39.github.io/ecma262/#sec-touint32)
- [The TypedArrayCreate abstract operation](https://tc39.github.io/ecma262/#typedarray-create)
- [The Abstract Equality Comparison algorithm](https://tc39.github.io/ecma262/#sec-abstract-equality-comparison)
- [The Strict Equality Comparison algorithm](https://tc39.github.io/ecma262/#sec-strict-equality-comparison)
- [The ArrayBuffer object](http://www.ecma-international.org/ecma-262/6.0/#sec-arraybuffer-constructor)
- [The Date object](http://www.ecma-international.org/ecma-262/6.0/#sec-date-constructor)
- [The SyntaxError object](http://www.ecma-international.org/ecma-262/6.0/#sec-native-error-types-used-in-this-standard-syntaxerror)
- [The TypeError object](http://www.ecma-international.org/ecma-262/6.0/#sec-native-error-types-used-in-this-standard-typeerror)
- [The RangeError object](http://www.ecma-international.org/ecma-262/6.0/#sec-native-error-types-used-in-this-standard-rangeerror)
- [The RegExp object](http://www.ecma-international.org/ecma-262/6.0/#sec-regexp-constructor)
- [The typeof operator](https://tc39.github.io/ecma262/#sec-typeof-operator)
- [The TypedArray Constructors table](https://tc39.github.io/ecma262/#table-49)


### DOM

- DOM（Document Object Model）は、ドキュメントとそのコンテンツの表現（モデル）です。
- DOMは単なるAPIだけではありません
    - この仕様では、HTML実装の適合基準がDOMの操作の観点から定義されています。
    - [DOM41](https://www.w3.org/TR/html/references.html#biblio-dom)

- 実装は、この仕様がDOMと、いくつかの機能がDOMインタフェースの拡張として定義されているため、UIイベントで定義されたイベントとDOMをサポートされなければならない。
    - [DOM41](https://www.w3.org/TR/html/references.html#biblio-dom<D-r>)
    - [UIEVENTS](https://www.w3.org/TR/html/references.html#biblio-uievents)

- 特に、次の機能はDOM仕様で定義されています
    - [DOM41](https://www.w3.org/TR/html/references.html#biblio-dom)
- [Attr interface](https://www.w3.org/TR/dom41/#attr)
- [Comment interface](https://www.w3.org/TR/dom41/#comment)
- [DOMImplementation interface](https://www.w3.org/TR/dom41/#domimplementation)
- [Document interface](https://www.w3.org/TR/html/dom.html#elementdef-document)
- [XMLDocument interface](https://www.w3.org/TR/dom41/#xmldocument)
- [DocumentFragment interface](https://www.w3.org/TR/dom41/#documentfragment)
- [DocumentType interface](https://www.w3.org/TR/dom41/#documenttype)
- [DOMException interface](https://www.w3.org/TR/WebIDL-1/#idl-DOMException)
- [ChildNode interface](https://www.w3.org/TR/dom41/#childnode)
- [Element interface](https://www.w3.org/TR/dom/#interface-element)
- [Node interface](https://www.w3.org/TR/dom41/#node)
- [NodeList interface](https://www.w3.org/TR/dom41/#nodelist)
- [ProcessingInstruction interface](https://www.w3.org/TR/dom41/#processinginstruction)
- [Text interface](https://www.w3.org/TR/dom41/#text)
- [HTMLCollection interface](https://www.w3.org/TR/dom41/#htmlcollection)
- [item() method](https://www.w3.org/TR/dom41/#dom-nodelist-item)
- [The terms collections](https://www.w3.org/TR/dom/#concept-collection)
    - [and represented by the collection](https://www.w3.org/TR/dom/#represented-by-the-collection)
- [DOMTokenList interface](https://www.w3.org/TR/dom41/#domtokenlist)
- [createDocument() method](https://www.w3.org/TR/dom41/#dom-domimplementation-createdocument)
- [createHTMLDocument() method](https://www.w3.org/TR/dom41/#dom-domimplementation-createhtmldocument)
- [createElement() method](https://www.w3.org/TR/dom41/#dom-document-createelement)
- [createElementNS() method](https://www.w3.org/TR/dom41/#dom-document-createelementns)
- [getElementById() method](https://www.w3.org/TR/dom41/#dom-nonelementparentnode-getelementbyid)
- [getElementsByClassName() method](https://www.w3.org/TR/dom41/#dom-element-getelementsbyclassname)
- [appendChild() method](https://www.w3.org/TR/dom41/#dom-node-appendchild)
- [cloneNode() method](https://www.w3.org/TR/dom41/#dom-node-clonenode)
- [importNode() method](https://www.w3.org/TR/dom41/#dom-document-importnode)
- [id attribute](https://www.w3.org/TR/dom41/#dom-element-id)
- [textContent attribute](https://www.w3.org/TR/dom41/#dom-node-textcontent)
- The tree concept
- The tree order concept
- The root concept
- The inclusive ancestor concept
- The document element concept
- The in a document concept
- [The pre-insert, ](https://www.w3.org/TR/dom/#concept-node-pre-insert)
    - [insert](https://www.w3.org/TR/dom/#concept-node-insert)
    - [append](https://www.w3.org/TR/dom/#concept-node-append)
    - [remove](https://www.w3.org/TR/dom/#concept-node-remove)
    - [replace](https://www.w3.org/TR/dom/#concept-node-replace)
    - [and adopt algorithms for nodes](https://www.w3.org/TR/dom/#concept-node-adopt)
- [The insertion steps](https://www.w3.org/TR/dom/#concept-node-insert-ext)
    - [removing steps](https://www.w3.org/TR/dom41/#concept-node-remove-ext)
    - [and adopting steps hooks](https://www.w3.org/TR/dom41/#concept-node-adopt-ext)
- [The attribute list concept.](https://www.w3.org/TR/dom/#concept-element-attribute)
- [The data of a text node.](https://www.w3.org/TR/dom/#concept-cd-data)
- [Event interface](https://www.w3.org/TR/dom41/#event)
- [EventTarget interface](https://www.w3.org/TR/dom41/#eventtarget)
- [EventInit dictionary type](https://www.w3.org/TR/dom41/#dictdef-eventinit)
- [target attribute](https://www.w3.org/TR/dom41/#dom-event-target)
- [currentTarget attribute](https://www.w3.org/TR/dom41/#dom-event-currenttarget)
- [isTrusted attribute](https://www.w3.org/TR/dom41/#dom-event-istrusted)
- [initEvent() method](https://www.w3.org/TR/dom41/#dom-event-initevent)
- [addEventListener() method](https://www.w3.org/TR/dom41/#dom-eventtarget-addeventlistener)
- [The type of an event](https://www.w3.org/TR/dom41/#dom-event-type)
- [The concept of an event listener and the event listeners associated with an EventTarget](https://www.w3.org/TR/dom/#concept-event-listener)
- The concept of a target override
- [The encoding (herein the character encoding)](https://www.w3.org/TR/encoding/#encoding)
    - [and content type of a Document](https://www.w3.org/TR/dom/#concept-document-content-type)
- [The distinction between XML documents](https://www.w3.org/TR/html/infrastructure.html#xml-document)
    - [and HTML documents](https://www.w3.org/TR/html/infrastructure.html#html-document)
- The terms quirks mode, limited-quirks mode, and no-quirks mode
- [The algorithm to clone a Node](https://www.w3.org/TR/dom41/#concept-node-clone)
    - [and the concept of cloning steps used by that algorithm](https://www.w3.org/TR/dom41/#concept-node-clone-ext)
- The concept of base URL change steps and the definition of what happens when an element is affected by a base URL change
- [The concept of an element’s unique identifier (ID)](https://www.w3.org/TR/dom/#concept-id)
- The term supported tokens
- [The concept of a DOM range](https://www.w3.org/TR/dom/#concept-range)
    - [and the terms start](https://www.w3.org/TR/dom/#concept-range-start)
    - [end](https://www.w3.org/TR/dom/#concept-range-end)
    - [and boundary point as applied to ranges.](https://www.w3.org/TR/dom/#concept-range-bp)
- [The create an element algorithm](https://www.w3.org/TR/custom-elements/#concept-create-element)
- [MutationObserver interface and mutation observers in general](https://www.w3.org/TR/dom41/#mutationobserver)


```
例:12
たとえば、TimeoutError例外をスローするには、
ユーザエージェントはタイプが文字列 "TimeoutError"という
（歴史的な理由で、そのコードが23であった）
DOMExceptionオブジェクトを構築し、
実際にそのオブジェクトを例外としてスローします。
```

- 次の機能は、UIイベント仕様で定義されています
    - [UIEVENTS](https://www.w3.org/TR/html/references.html#biblio-uievents)

- [MouseEventインターフェイスと以下のインターフェイスメンバ](https://www.w3.org/TR/uievents/#mouseevent)
    - [The relatedTarget attribute](https://www.w3.org/TR/uievents/#dom-mouseevent-relatedtarget)
    - [The button attribute](https://www.w3.org/TR/uievents/#dom-mouseevent-button)
    - [The ctrlKey attribute](https://www.w3.org/TR/uievents/#dom-keyboardevent-ctrlkey)
    - [The shiftKey attribute](https://www.w3.org/TR/uievents/#dom-keyboardevent-shiftkey)
    - [The altKey attribute](https://www.w3.org/TR/uievents/#dom-keyboardevent-altkey)
    - [The metaKey attribute](https://www.w3.org/TR/uievents/#dom-keyboardevent-metakey)
    - [The getModifierState() method](https://www.w3.org/TR/uievents/#dom-keyboardevent-getmodifierstate)
- [MouseEventInit dictionary type](https://www.w3.org/TR/cssom-view-1/#dictdef-mouseeventinit)
- [The FocusEvent interface](https://www.w3.org/TR/uievents/#focusevent)
    - [and its relatedTarget attribute](https://www.w3.org/TR/uievents/#dom-focusevent-relatedtarget)
- [The UIEvent interface’s view and detail attributes](https://www.w3.org/TR/uievents/#uievent-uievent)
- [click event](https://www.w3.org/TR/uievents/#click)
- [dblclick event](https://www.w3.org/TR/uievents/#dblclick)
- [mousedown event](https://www.w3.org/TR/uievents/#mousedown)
- [mouseenter event](https://www.w3.org/TR/uievents/#mouseenter)
- [mouseleave event](https://www.w3.org/TR/uievents/#mouseleave)
- [mousemove event](https://www.w3.org/TR/uievents/#mousemove)
- [mouseout event](https://www.w3.org/TR/uievents/#mouseout)
- [mouseover event](https://www.w3.org/TR/uievents/#mouseover)
- [mouseup event](https://www.w3.org/TR/uievents/#mouseup)
- [wheel event](https://www.w3.org/TR/uievents/#wheel)
- [keydown event](https://www.w3.org/TR/uievents/#keydown)
- [keyup event](https://www.w3.org/TR/uievents/#keyup)
- [keypress event](https://www.w3.org/TR/uievents/#keypress)

- 次の機能は、Touch Events仕様で定義されています。
    - [TOUCH-EVENTS](https://www.w3.org/TR/html/references.html#biblio-touch-events)
- [Touch interface](https://www.w3.org/TR/touch-events/#idl-def-TouchEvent)
- [Touch point concept](https://www.w3.org/TR/touch-events/#dfn-touch-point)

- この仕様では、用語の名前を使用してイベントのタイプを参照することがあります。
    - 「`click`というイベント」または「イベント名が`keypress`の場合」のように表示されます。
    - イベントの「名前」と「タイプ」という用語は同義語です。

- 次の機能は、DOMの解析とシリアライズの仕様で定義されています。
    - [DOM-PARSING](https://www.w3.org/TR/html/references.html#biblio-dom-parsing)
- [innerHTML](https://www.w3.org/TR/DOM-Parsing/#widl-Element-innerHTML)
- [outerHTML](https://www.w3.org/TR/DOM-Parsing/#widl-Element-outerHTML)

- SelectionインタフェースはSelection API仕様で定義されています。
    [SELECTION-API](https://www.w3.org/TR/html/references.html#biblio-selection-api)

- 注
    - ユーザエージェントは、HTML Editing APIとUndoManagerとDOMトランザクション仕様で説明されている機能を実装することも奨励されます。
        - [EDITING](https://www.w3.org/TR/html/references.html#biblio-editing)
        - [UNDO](https://www.w3.org/TR/html/references.html#biblio-undo)

- Fullscreen仕様の次の部分は、この仕様の定義から参照され、部分的に`dialog`要素のレンダリングを定義し、Fullscreen APIがHTMLのサンドボックス機能とどのように相互作用するかも定義する
    - [FULLSCREEN](https://www.w3.org/TR/html/references.html#biblio-fullscreen)
- [The top layer concept](https://fullscreen.spec.whatwg.org/#top-layer)
- [requestFullscreen()](https://fullscreen.spec.whatwg.org/#dom-element-requestfullscreen)
- [The fullscreen enabled flag](https://fullscreen.spec.whatwg.org/#dom-document-fullscreenenabled)
- [The fully exit fullscreen algorithm](https://fullscreen.spec.whatwg.org/#fully-exit-fullscreen)

- High Resolution Time仕様では、DOMHighResTimeStamp typedefとPerformanceオブジェクトのnow（）メソッドが提供されます。
    - [HR-TIME-2](https://www.w3.org/TR/html/references.html#biblio-hr-time-2)


......

- この仕様では、特定のネットワークプロトコル、スタイルシート言語、スクリプティング言語、または上記のリストで要求されているものを超えるDOM仕様のサポートは必要ありません。
- しかし、この仕様で記述されている言語は、スタイリング言語としてのCSS、スクリプト言語としてのJavaScript、ネットワークプロトコルとしてのHTTPに偏っています。これらの言語やプロトコルは実装されていると想定されています。

- HTTPプロトコルを実装するユーザーエージェントは、Web Origin Concept仕様とHTTP State Management Mechanism仕様（Cookies）も実装する必要があります。
    - [COOKIES](https://www.w3.org/TR/html/references.html#biblio-cookies)

- 注
    - この仕様では、それぞれのセクションに文字エンコーディング、画像フォーマット、オーディオフォーマット、およびビデオフォーマットに関する追加の要件があります。


## 2.3. Extensibility

- この仕様に対するベンダー固有の独自のユーザーエージェント拡張は、強く推奨されません。
    - ドキュメントは、そのような拡張を使用してはならない。そうすることで、相互運用性が低下し、ユーザーベースが断片化し、特定のユーザーエージェントのユーザーのみが問題のコンテンツにアクセスできるようになる。

- それにもかかわらず、例えば実験目的のためにそのような拡張が必要な​​場合、ベンダーは以下の拡張メカニズムの1つを使用するよう強く求められる。

- XMLシリアル化に限定され、HTMLシリアル化でサポートされる必要がないマークアップレベルの機能については、ベンダは名前空間メカニズムを使用して非標準の要素と属性がサポートされているカスタム名前空間を定義する必要があります。
- HTML構文で使用するためのマークアップレベルの機能の場合、拡張機能は "x-vendor-feature"という形式の新しい属性に限定する必要があります。
    - ベンダーは、拡張を担当するベンダーを識別する短い文字列で、featureは機能の名前です。
- 新しい要素名は作成しないでください。このような拡張機能の属性を使用すると、複数のベンダーの拡張機能を同じ要素に共存させることができますが、これは要素では不可能です。
    - "x-vendor-feature"フォームを使用すると、将来の仕様の追加と競合するリスクなしに拡張を行うことができます。

```html
<!--例14
たとえば、 "FerretBrowser"という名前のブラウザは
ベンダープレフィックスとして "Ferret"を使用し、
"Mellblom Browser"というブラウザは "mb"を使用できます。
これらのブラウザの両方が要素をスクラッチ・アンド・スニフ領域に変えた拡張機能を開発した場合、
これらの機能を試した制作者は次のように書かなければならない。-->

<p>This smells of lemons!
<span x-ferret-smellovision x-ferret-smellcode="LEM01"
x-mb-outputsmell x-mb-smell="lemon juice"></span></p>
```

- 2つの文字 "x-"で始まる属性名は、ユーザーエージェントのために予約されており、決してHTML言語に正式に追加されないことが保証されています。
- 柔軟性のために、アンダースコア（U + 005F LOW LINE文字）を含む属性名も実験目的のために予約されており、決してHTML言語に正式に追加されないことが保証されています。

- 注
    - そのような属性を使用するページは定義上不適合です。

- DOM拡張（例えば、新しいメソッドおよびIDL属性、新しいメンバ)は、仕様の将来のバージョンとの衝突を防ぐために、ベンダー固有の文字列を接頭辞として使用する必要があります。
- イベントの場合、実験イベントタイプの先頭にベンダー固有の文字列を付ける必要があります。

```
例:15
たとえば、「Pleasold」と呼ばれるユーザーエージェントが、
ユーザーがいつエレベーターに登場するかを示すイベントを追加する場合、
接頭辞「pleasold」を使用してイベント「pleasoldgoingup」に名前を付け、
場合によっては「onpleasoldgoingup」という名前のイベントハンドラー属性を付けます。
```

- すべての拡張機能は、拡張機能の使用が仕様に定義されている機能の不適合に反することも起こらないように定義する必要があります。


```
例:16
例えば、そうすることを強くお勧めしますが、
実装 "Foo Browser"は、新しいIDL属性 "fooTypeTime"をコントロールの
DOMインターフェースに追加して、
ユーザーがコントロールの現在の値を選択するのに要した時間を返しました。
一方、フォームの要素配列に現れる新しいコントロールを定義することは、
この仕様で与えられた要素の定義に違反するため、上記の要件に違反することになります。
```

- "x-vendor-feature"という形式のコンテンツ属性に対応する新しい反映IDL属性を追加する場合、IDL属性の名前は "vendorFeature"
    - すなわち、「x」がIDL属性の名前から削除される


***

- ベンダーに依存しないこの仕様へのの拡張が必要な場合は、この仕様をそれに応じて更新するか、この仕様の要件を上書きする拡張仕様を書くことができます。
- この仕様を自身の活動に適用する誰かが、そのような拡張仕様の要件を認識するとき、この仕様の適合要件のために適用可能な仕様になります。

- 注
    - 誰かが、任意のバイトストリームを適合しているものとして定義し、そのランダムジャンクが適合していると主張する仕様を書くことができます。
    - しかし、それは彼らのランダムなジャンクが実際にみんなの目的に合っているということではありません
    - 誰かが仕様書が自分の仕事に当てはまらないと判断した場合、上記のランダムなジャンクはただのジャンクであり、まったく準拠していないと言うことができます。
    - 適合性に関する限り、特定のコミュニティで重要なことは、そのコミュニティが同意するものが適用可能です。


### 適用される仕様

- ドキュメントの`conformance`という用語は、適用可能な仕様によって導入された変更の性質、およびドキュメントの内容と意図された解釈に依存します。
- 適用可能な仕様は、新しい文書コンテンツを定義し（例えば、foobar要素）、適合する特定のコンテンツを禁止し（例えば、`table`の使用を禁止する）、セマンティクスやDOMマッピングや、この仕様で定義されているその他の処理のルールを変える。
- 文書が適合するHTML文書であるかどうかは、適用可能な仕様の使用に依存しない
    - 与えられた適合するHTML文書の構文とセマンティクスが、適用可能な仕様の使用によって変更されない場合、その文書は適合するHTML文書のままである。
    - 指定された（そうでなければ適合する）文書の意味または処理が、適用可能な仕様の使用によって変更された場合、適合するHTML文書ではない。
- そのような場合、適用可能な仕様は、適合用語を定義すべきである


- 注
    - 推奨されているが必須ではない規約として、このような仕様では、`Conforming HTML+XXX document`などの適合用語を定義することができます。XXXは適用可能な仕様の短い名前です。
    - 例: `Conforming HTML+AutomotiveExtensions document`

- 注
    - 上記のルールの結果、特定の構文的に正しいHTML文書が、適用可能な仕様の存在下で不適合なHTML文書の可能性があります。
        - 適用可能な仕様では、`<table>`を家具と定義すると、その仕様に書かれた文書と`<table>`要素を含めることは、たとえ要素が構文的に正しいHTMLであっても、不適合になります


- UAは、意味的に中立でないと判断できない要素と属性を扱わなければならない。
    - それらをDOM（DOMプロセッサ用）に残し、CSS（CSSプロセッサ用）に従ってスタイルを設定しますが、それらの意味を推測しません。
- 機能のサポートが無効になっている場合（セキュリティ上の問題を緩和するため、または開発を支援するため、またはパフォーマンス上の理由から）UAは、その機能に何のサポートも持たないかのように振る舞い、あたかもその機能がこの仕様書で言及されていないかのように行動しなければならない。
- たとえば、特定の機能がWeb IDLインタフェースの属性を介してアクセスされる場合、そのインタフェースを実装するオブジェクトから属性自体は省略されます
    - オブジェクトに属性を残すことは問題ないが、nullを返すか、例外をスローすることは不適当です。


## 2.4. Interactions with XPath and XSLT

- この仕様で説明されている方法で解析または作成されたHTML文書で動作するXPath 1.0の実装は(例えば、document.evaluate（）APIの一部として)次の編集がXPath 1.0仕様に適用されたかのように動作する必要があります。

- まず、このパラグラフを削除します：
```
```

- 次に、次の場所に挿入します。
    - ノードテストのQNameは、表現コンテキストからの名前空間宣言を使用して展開名に展開されます
    - QNameにプリフィクスがある場合、表現コンテキスト内のこのプリフィクスの名前空間宣言が必要であり、対応する名前空間URIはこのプリフィクスに関連付けられている名前空間URIです。
    - QNameに、表現コンテキストに名前空間宣言がないプレフィックスがある場合は、エラーです。
    - QNameにプリフィクスがなく、軸のプリンシパルノードタイプが要素の場合、デフォルトの要素名前空間が使用されます。
        - そうでない場合、QNameにプリフィクスがない場合、名前空間URIはnullです。
    - デフォルトの要素名前空間は、XPath式のコンテキストのメンバです。
    - DOM3 XPath APIを使用してXPath式を実行するときのデフォルトの要素名前空間の値は、次のように決定されます。
        1. コンテキストノードがHTML DOMからのものである場合、デフォルトの要素名前空間は`http://www.w3.org/1999/xhtml`
        2. それ以外の場合、デフォルトの要素名前空間URIはnullです。

- 注
    - これは、XPath 2.0のデフォルトの要素名前空間機能をXPath 1.0に追加し、HTML名前空間をHTML文書の既定の要素名前空間として使用することと同じです。
    - 実装が従来のHTMLコンテンツと互換性を持ち、HTML要素に使用されている名前空間に関するこの仕様がHTMLに導入する変更をサポートしたいという要望によって動機付けられており、XPath 2.0ではなくXPath 1.0の使用を希望しています。

- 注
    - この変更は、XPath 1.0仕様の意図した違反です。
    - HTML要素にどの名前空間が使用されているかに関してこの仕様がHTMLに導入する変更をサポートしながら、実装にレガシーコンテンツとの互換性を持たせたいという意欲によって動機付けられています。
        - (XPATH)[https://www.w3.org/TR/html/references.html#biblio-xpath]

- 出力メソッドが "html"（明示的にまたはXSLT 1.0のデフォルトルールを介して）のときにDOMに出力するXSLT 1.0プロセッサは、次のように影響を受けます
    - 変換プログラムが名前空間に要素を出力しない場合、プロセッサは、対応するDOM要素ノードを構築する前に、要素の名前空間をHTML名前空間に変更し、要素のローカル名をASCII小文字にし、要素の非名前空間属性の名前をASCII小文字にしないといけない


- 注
    - この変更は、XPath 1.0仕様の意図した違反です。
    - この仕様では、DOMベースのXSLT変換と互換性のない方法で、HTMLの名前空間と大文字と小文字の区別の規則が変更されるために必要です
        - 出力をシリアル化するプロセッサは影響を受けません。
        - [XSLT](https://www.w3.org/TR/html/references.html#biblio-xslt)

- この仕様では、XSLT処理がHTMLパーサインフラストラクチャとどのように相互作用するかを明確に規定していません
    - 例えば、XSLTプロセッサが、開いている要素のスタックに任意の要素を置くかのように動作するかどうか
    - それらが正常に完了した場合は、XSLTプロセッサは解析を停止する必要があります。そして、現在のドキュメント準備状況を`interactive`に設定し、そしてそれらが打ち切られているなら「完了」してください。


***

- この仕様では、XSLTがナビゲーションアルゴリズムとどのようにやり取りするか、イベントループにどのように適合するか、エラーページをどのように扱うかを規定していません。
    - つまりXSLTエラーがインクリメンタルなXSLT出力を置き換えるのか、インラインでレンダリングされるのか、など

- 注
    - スクリプト要素のセクションでのXSLTとHTML、およびテンプレート要素セクションでのXSLT、XPath、HTMLの相互作用に関する追加の非規範的なコメントもあります。
