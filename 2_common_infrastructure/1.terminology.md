# 2.1. Terminology

- この仕様は、HTMLとXMLの両方の属性とIDL属性を指します。
- 参照されているものが明確でない場合は、HTMLおよびXML属性のコンテンツ属性、およびIDLインタフェースで定義された属性のIDL属性が参照されます。
- 同様に、「プロパティ」という用語は、JavaScriptオブジェクトのプロパティとCSSのプロパティの両方に使用されます。
- これらがあいまいな場合は、それぞれ`object properties`と`CSS properties`として修飾されます。


- 一般に、仕様がHTML構文またはXHTML構文に機能が適用されると指定されている場合、その機能には他の機能も含まれます。
- ある機能が2つの言語のうちの1つにのみ適用される場合、「for HTML、...（これはXHTMLには適用されません）」のように他の形式には適用されないことを明示して記述されます。

- この仕様では、短い静的文書から長いエッセイまで、または豊富なマルチメディアのあるレポートや本格的なインタラクティブアプリケーションまで、HTMLの使用方法を指すために"document"という用語を使用しています。

- この用語は、Documentオブジェクトとその子孫DOMツリーと、文脈に応じてHTML構文またはXHTML構文を使用してシリアライゼーションされたバイトストリームの両方を参照するために使用されます。

- DOM構造のコンテキストでは、HTMLドキュメントとXMLドキュメントという用語は、[DOM仕様](https://www.w3.org/TR/html/references.html#biblio-dom)で定義されているように使用され、具体的に2つの異なるモードを参照している。
    - そのような使用法は常にその定義にハイパーリンクされています。

- バイトストリームのコンテキストでは、HTMLドキュメントという用語はtext / htmlとラベル付けされたリソースを指し、XMLドキュメントという用語はXML MIMEタイプでラベル付けされたリソースを指します。

- 用語XHTML文書は、コンテキストに応じて、両方の文書を参照するために使用されます
    - HTML名前空間の要素ノードを含むXML文書モードの文書
    - HTML名前空間の要素を含むXML MIMEタイプでラベル付けされたバイトストリーム。

- 簡単にするために、`shown`、`displayed`、`visible`などの用語は、ドキュメントがユーザーに表示される方法を参照するときに使用されることがあります。
- これらの用語は、視覚的な媒体を意味するものではありません。同等の方法で他のメディアに適用することが検討されなければならない。

- アルゴリズムBが別のアルゴリズムAに`return`すると記述するとき、それはBがAをコールすることを意味する。
    - Aをリターンすると、実装はBをコールしたときにで中断したところから続行する必要があります。
    - いくつかのアルゴリズムは並行して実行される
- これは、アルゴリズムの後続のステップが、仕様の他のロジックと同時に、次々に実行されることを意味します
    - 例: イベントループ
- この仕様では、異なるハイパースレッド、コア、CPU、マシンなどを使用して、タイムシェアリングによるマルチタスク、ファイバー、スレッド、プロセスなど、これが達成される正確なメカニズムを定義していません。
- 対照的に、即座に実行される操作は、現在実行中のタスクを中断し、それ自身を実行してから以前に実行中のタスクを再開する必要があります。

- `transparent black`という用語は、赤、緑、青、およびアルファチャンネルがすべてゼロに設定された色を示します。


## 2.1.1. Resources

- この仕様では、ユーザーエージェントが外部リソースを正しくデコードできる実装を持っているかどうかを参照するときに`supported`という用語を使用します。
- フォーマットまたはタイプは、実装がそのフォーマットまたはタイプの外部リソースを、リソースの重要な側面を無視せず処理できる場合に`supported`と言われています。
- 特定のリソースが`supported`かどうかは、リソースのフォーマットのどの機能が使用されているかによって異なります。

```
例: 1
例えば、実装に関係なく、画像にもアニメーションデータが含まれていても、
そのピクセルデータをデコードしてレンダリングできる場合、
PNG画像はサポートされているフォーマットとみなされます。
```

```
例: 2
MPEG-4ビデオファイルは、たとえ実装がファイルのメタデータからムービーのサイズを決定しても、
使用される圧縮フォーマットがサポートされていない場合、
サポートされているフォーマットであるとはみなされません。
```

- いくつかの仕様、特にHTTP仕様で`representation`と呼ばれるものは、この仕様では`resource`と呼ばれます。
    - [HTTP](https://www.w3.org/TR/html/references.html#biblio-http)
- `MIME type`という用語は、プロトコルの文献で`internet media type`と呼ばれることもあります。
    - この仕様の`media type`という用語は、CSS仕様で使用される表示用のメディアのタイプを指すために使用されます。
    - [RFC2046](https://www.w3.org/TR/html/references.html#biblio-rfc2046)
    - [MEDIAQ](https://www.w3.org/TR/html/references.html#biblio-mediaq)
-  文字列は、メディアタイプルールと一致する場合、`valid MIME type` です。
    - 特に、`valid MIME type`にはMIMEタイプのパラメータが含まれている場合があります。
    - [HTTP](https://www.w3.org/TR/html/references.html#biblio-http)
- メディアタイプ規則に一致するが、U+003Bセミコロン文字（;）を含んでいない場合、文字列は、パラメータを持たない有効なMIMEタイプです。
    - 言い換えれば、タイプとサブタイプだけで構成され、MIMEタイプのパラメータがない場合
    - [HTTP](https://www.w3.org/TR/html/references.html#biblio-http)
- `HTML MIME type`という用語は、MIMEタイプtext / htmlを参照するために使用されます。
- リソースの重要なサブリソースは、リソースが正しく処理されるために必要なものです。
    - どのリソースがクリティカルであると見なされるかは、リソースのフォーマットを定義する仕様によって定義されます。


## 2.1.2. XML compatibility

- HTMLからXHTMLへの移行を容易にするために、この仕様に準拠したユーザエージェントは、少なくともDOMとCSSの目的のために、HTML内の要素を`http://www.w3.org/1999/xhtml`名前空間に配置します。
    - この定義書で使用される用語`HTML elements`は、その名前空間内の任意の要素を指す。
        - したがって、HTML要素とXHTML要素の両方を指す。
- 別段の記載がある場合を除き、この仕様で定義または言及されているすべての要素は、HTML名前空間(`http://www.w3.org/1999/xhtml`)にあり,この仕様で定義または言及されているすべての属性には名前空間がありません。
- `element type`という用語は、特定のローカル名と名前空間を持つ要素のセットを参照するために使用されます。
    - たとえば、`<button>`要素は要素タイプ`<button>`を持つ要素です。つまり、ローカル名`<button>`とHTML名前空間を持ちます（暗黙的に定義されているように）
- 属性名は、XMLで定義されたNameプロダクションと一致し、U+003A COLON文字（:)が含まれていない場合、`XML-compatible`と言われます。
    - [XML](https://www.w3.org/TR/html/references.html#biblio-xml)
- 用語`XML MIME type`は、MIMEタイプ`text/xml`、`application/xml`、およびサブタイプが4文字の `+xml`で終わるすべてのMIMEタイプを参照するために使用されます。
    - [RFC7303](https://www.w3.org/TR/html/references.html#biblio-rfc7303)


## 2.1.3. DOM trees

- いくつかの要素や属性が無視されたり、他の値として扱われたり、他のものと同じように扱われたりすると、DOM内にあるノードの処理だけが参照されます。
    - このような状況では、ユーザエージェントはDOMを変更してはいけません。
- 属性の内容は、新しい値が以前の値と異なる場合にのみ値を変更すると言われます。
    - 属性を既に持っている値に設定しても属性は変更されません。
- `empty`という用語は、属性値、テキストノード、または文字列に使用される場合、テキストの長さがゼロであることを意味します (つまり、スペースや制御文字を含んでいない)
- 要素の子テキストコンテンツは、要素の子であるすべてのTextノード（コメントや要素などの他のノードは無視する）のデータをツリー順に連結したものです。
- ノードAは、挿入ステップがAを引数とし呼び出されたときに、ノードBに挿入されます。そしてAの新しい親はBである。
- 同様に、ノードAは、AをremovedNode引数として、BをoldParent引数として削除ステップが呼び出されたときにノードBから削除される。
- ノードは、そのノードを引数として挿入ステップが呼び出ると、ドキュメントに挿入されます。そして、ドキュメント・ツリーに存在するようになります。
- 同様に、ノードは、ノードが引数として削除ステップを呼び出されたときにドキュメントから削除されます。
    - その後、ドキュメントツリーにもはや存在しません。


## 2.1.4. Scripting

- より正確な「インターフェースFooを実装するオブジェクト」の代わりに、Fooが実際にインターフェースである「a Fooオブジェクト」の構成が使用されることがあります。
- IDL属性は、その値が（例えば、作成者スクリプトによって）取得されているときに`getting`と言われ、新しい値が割り当てられたときに`setting`と言われています。
- DOMオブジェクトが`live`と言われている場合、そのオブジェクトの属性とメソッドは、データのスナップショットではなく、実際のデータで動作する必要があります。
- イベントのコンテキストでは、`fire`および`dispatch`という用語は、DOM仕様で定義されているように使用されます
    - イベントを発火させる`firing`とは、それを作成して発行することを意味し、イベントの発行`dispatch`は、ツリーを介してイベントを伝播するステップに従うことを意味します。
- `trusted event`という用語は、`isTrusted`属性がtrueに初期化されたイベントを参照するために使用されます。
    - [DOM41](https://www.w3.org/TR/html/references.html#biblio-dom)


## 2.1.5. Plugins

- 用語`plugin`は、ユーザエージェントが使用できるコンテンツハンドラのユーザエージェント定義セットを指す。
- コンテンツハンドラは、ユーザエージェントのDocumentオブジェクトのレンダリングに参加することができるが、Documentの子ブラウジングコンテキストとして動作したり、NodeオブジェクトをDocumentのDOMに導入したりすることはできません。

- 典型的には、このようなコンテンツハンドラは第三者によって提供されるが、ユーザエージェントはプラグインとして組み込みコンテンツハンドラを指定することもできる。

- ユーザエージェントは、`text/plain`と`application/octet-stream`のタイプを登録済みプラグインとみなしてはなりません。

```
例:3
プラグインの一例は、ユーザがPDFファイルをナビゲートするときに
閲覧コンテキストでインスタンス化されるPDFビューアである。
これは、PDFビューアコンポーネントを実装した当事者が
ユーザエージェント自体を実装したものと同じかどうかにかかわらず、
プラグインとしてカウントされます。
ただし、（同じインターフェースを使用するのではなく）ユーザーエージェントとは
別に起動するPDFビューアアプリケーションは、
この定義ではプラグインではありません。
```

- 注
    - この仕様では、プラグインとやりとりするためのメカニズムは定義されていません。ユーザーエージェントやプラットフォーム固有のものであると予想されるためです。
    - いくつかのユーザエージェントは、Netscape Plugin APIのようなプラグインメカニズムをサポートすることを選択するかもしれません。
    - 他のユーザーは、リモートコンテンツコンバータを使用したり、特定の種類のサポートを組み込んでいる場合があります。
- 実際、この仕様では、ユーザーエージェントがプラグインをまったくサポートする必要はありません。
    - [NPAPI](https://www.w3.org/TR/html/references.html#biblio-npapi)

- プラグインは、サンドボックス属性のセマンティクスを尊重する場合に`secure`になります。

```
例:4
たとえば、セキュアなプラグインは、
プラグインがサンドボックス化されたiframe内でインスタンス化されたときに、
その内容がポップアップウィンドウを作成するのを防ぎます。
```

- 警告
    - ブラウザは、プラグイン用の外部コンテンツとやりとりするときには細心の注意を払う必要があります。
    - サードパーティのソフトウェアがユーザエージェントと同じ特権で実行されている場合、サードパーティ製ソフトウェアの脆弱性は、ユーザーエージェント自体の脆弱性のように危険にさらされます。

- 異なるプラグインセットを持つ異なるユーザは、ユーザが一意に識別される可能性を高める指紋ベクトルを提供するので、ユーザエージェントは、各ユーザに対してまったく同じプラグインのセットをサポートすることが奨励される。
    - [リンク](https://www.w3.org/TR/html/introduction.html#fingerprinting-vector)


## 2.1.6. Character encodings

- 文字エンコーディング、またはあいまいではないエンコーディングは、エンコーディング仕様で定義されているように、バイトストリームとUnicode文字列を変換するための定義済みの方法です。
- エンコーディングには、エンコーディング名と1つ以上のエンコーディングラベルがあり、エンコーディングの名前とエンコーディング仕様のラベルと呼ばれます。
    - [ENCODING](https://www.w3.org/TR/html/references.html#biblio-encoding)

- UTF-16エンコーディングは、UTF-16BEまたはUTF-16LEです。
    - [ENCODING](https://www.w3.org/TR/html/references.html#biblio-encoding)

- ASCII互換のエンコーディングは、UTF-16エンコーディングではないエンコーディングです。
    - [ENCODING](https://www.w3.org/TR/html/references.html#biblio-encoding)

- 注
    - エンコーディング仕様で定義されていないエンコーディングのサポートは禁止されているため、この仕様ではASCII互換エンコーディングではないとみなす必要があるエンコーディングはUTF-16エンコーディングだけです。

- `code unit`という用語は、Web IDL仕様で定義されているように使用されます
    - 16ビットの符号なし整数。DOMStringの最小単位。 （これは、Unicodeで使用されているものよりも狭い定義であり、コードポイントと同じではありません。）
    - [WEBIDL](https://www.w3.org/TR/html/references.html#biblio-webidl)

- `Unicode code point`という用語は、可能であればユニコード・スカラー値を意味し、そうでない場合は独立したサロゲート・コード・ポイントを意味します。
- 適合要件が文字またはUnicodeコードポイントの観点から定義されている場合、上位サロゲートとそれに続く低サロゲートからなる1対のコード・ユニットは、サロゲート・ペアによって表される単一のコード・ポイントとして扱われなければならず、独立したサロゲートは、それぞれサロゲートの値を持つ単一のコードポイントとして扱われなければなりません。
    - [UNICODE](https://www.w3.org/TR/html/references.html#biblio-unicode)

- この仕様では、文字という用語は、Unicode文字として修飾されていない場合は、Unicodeコードポイントという用語と同義です。
- Unicode文字という用語は、Unicodeスカラ値（つまり、サロゲートコードポイントではないUnicodeコードポイント）を意味するために使用されます。
- 文字列のコード単位の長さは、その文字列のコード単位の数です。
- この複雑さは、Unicode文字ではなく、16ビット（UTF-16）のコード単位でDOM APIを定義するという歴史的な決定に起因します。
