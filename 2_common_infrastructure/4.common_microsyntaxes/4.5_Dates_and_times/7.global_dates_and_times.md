# 2.4.5.7. Global dates and times

- global date and timeは先発グレゴリオ暦の日付の年、月、日、時、分、秒、分数秒からなる時間で構成され、タイムゾーンオフセットで表され符号付きの時と分で構成されます。
- 以下の指定された順序で構成される場合、日付、時刻、タイムゾーンオフセットを表す有効なグローバル日付/時刻文字列です。
    1. 日付を表す有効な日付文字列
    2. U+0054 LATIN大文字T文字（T）またはU+0020 SPACE文字
    3. 時刻を表す有効な時刻文字列
    4. タイムゾーンオフセットを表す有効なタイムゾーンオフセット文字列

- 20世紀半ばのUTCの形成以前の日付は、表示され、UTC(国際単位SI秒で進むUT1の近似値)ではなくUT1(0°経度での太陽時間)形式に解析される必要があります。
- タイムゾーン形成以前の時刻はUT1形式で、適切な現地時間と現代の時間差を近似する明示的なタイムゾーンとロンドンのグリニッチで監視される時間で表示、解析される必要がある


```
例:22
次に、有効なグローバル日付と時刻文字列として書かれた日付の例をいくつか示します。

"0037-12-13 00:00Z"
ローマ皇帝Neroの誕生日の真夜中の「ロンドン時間」（UTC）。
これが実際に対応する日付の詳細については、以下を参照してください。

"1979-10-14T12:00:00.001-04:00"
正午から1979年10月14日までの1ミリ秒。
夏時間中に米国の東海岸で使用されるタイムゾーン。

"8592-01-01T02:09+02:09"
8592年1月1日の真夜中のUTC。
その時間に関連付けられたタイムゾーンは、現時点ではリアルタイムゾーンではなく
UTCより2時間9分早いですが、それにもかかわらず許可されています。

これらの日付にはいくつか注目すべき点があります。

- 4桁未満の年はゼロ詰めでなければなりません。
    - "37-12-13"の日付は有効な日付ではありません。
- 曖昧さなく日付を特定するためには、最初にグレゴリオ暦に変換しなければならない
    - ヒジュラ暦、ユダヤ歴、ユリウス歴、または他のカレンダーから
    - 例えば、ローマ帝国の皇帝Neroはユリウス歴37年12月15日に生まれました。
    - 先発グレゴリオ暦では37年12月13日です
- 時間帯および時間帯のオフセット成分はオプションではありません。
- グレゴリオ暦の西暦1年以前の年、または西暦9999年の1年後の日付は、HTMLのこのバージョンでは日時として表すことはできません。
- ある場所のタイムゾーンオフセットは、たとえば夏時間のために異なる場合があります。

```

- note
    - ゾーンオフセットは完全なタイムゾーンの指定ではありません。
    - 実際の日付と時刻の値を扱う場合は、おそらくIANAタイムゾーンIDを使用して、タイムゾーンに別のフィールドを使用することを検討してください。
        - [TIMEZONE](https://www.w3.org/TR/html/references.html#biblio-timezone)

- 日付、時刻、タイムゾーンのオフセットを表す有効な正規化されたグローバル日時文字列は以下の順で構成されます
1. UTCタイムゾーンに変換された日付を表す有効な日付文字列
2. U+0054ラテン文字大文字T文字（T）
3. UTCタイムゾーンに変換された時刻を表す有効な時刻文字列。指定された時刻の最短文字列として表されます。
    - 指定された時間が分を超えてゼロ秒である場合、秒のコンポーネントを完全に省略します
4. U+005Aラテン文字大文字Z文字（Z）

- グローバルな日付と時刻の文字列を解析する規則は次のとおりです。
    - これは、ラウンドトリップまたは表示目的のための関連するタイムゾーンオフセット情報を持つUTCの時刻を返すか、または何も返しません。
    - アルゴリズムがfailの場合は、その時点で中止され、何も返されないことを意味します。

1. inputを解析対象の文字列とします。
2. positionをinputへのポインタとし、最初は文字列の先頭を指します。
3. 年、月、日を取得するために日付コンポーネントを解析します。
    - これが何も返さなければ、failです
4. positionがinputの終わりを超えている場合、またはpositionの文字がU+0054 LATIN大文字T文字（T）でもU+0020 SPACE文字でもない場合、failです
5. 時間コンポーネントを解析して時、分、秒を取得します。これが何も返さない場合、failです。
6. positionがinputの終わりを超えている場合は失敗します。
7. 時間帯のオフセット成分を解析して、時間帯・時と時間帯・分を取得します。
    - これが何も返さない場合、failです
8. positionがinputの終わりを超えていない場合、failです。
9. 時刻を年、月、日、時、分、秒の瞬間とし、timezonehours時間とtimezoneminutesの分を差し引いてください。
10. タイムゾーンをtimezonehours時間にし、timezoneminutesをUTCからの時間にします。
11. 時間とタイムゾーンを返します
