# 3.2.7. Requirements relating to the bidirectional algorithm

## 1. テキスト方向アルゴリズムの書式設定文字の作成の適合基準

- 内容にテキストノードを持つHTML要素のテキストコンテンツ、自由形式のテキストを許可するHTML要素の属性のテキストはU+202A〜U+202EおよびU+2066〜U+2069（テキスト方向アルゴリズムの書式設定文字）の範囲の文字を含むことができます。
    -  [BIDI](https://www.w3.org/TR/html/references.html#biblio-bidi)

***
### note
- 制作者は、テキスト方向アルゴリズムの書式設定文字を手動で維持するのではなく、dir属性、bdo要素、およびbdi要素を使用することをお勧めします。
- 双方向アルゴリズムの書式設定文字は、CSSとのやりとりが難しい。
***


## 2. ユーザーエージェントの適合基準

- ユーザエージェントは、Unicodeのテキスト方向アルゴリズムを実装して、ドキュメントやドキュメントの一部をレンダリングする際の文字の順序を決定する必要があります。
    - [BIDI](https://www.w3.org/TR/html/references.html#biblio-bidi)

- Unicodeテキスト方向アルゴリズムへのHTMLのマッピングは、次の3つの方法のいずれかで行わなければなりません。
- ユーザエージェントは、特に、CSS unicode-bidi、direction、およびcontentプロパティを含めて、CSSを実装する必要があります。
- この仕様書のレンダリングセクションで与えられたプロパティを使用する規則をユーザエージェントスタイルシートに持たなければならない
    - あるいは、ユーザエージェントはあたかも上記のプロパティを実装したかのように動作しなければならない
- ドキュメントで指定されたスタイルシートを上書きしない限り、前述のすべてのルールを含むユーザーエージェントスタイルシートを持っていなければならない
- あるいは、ユーザーエージェントは、同等のセマンティクスを持つ別のスタイリング言語を実装する必要があります。
    - [CSS-WRITING-MODES-3](https://www.w3.org/TR/html/references.html#biblio-css-writing-modes-3)
    - [CSS3-CONTENT](https://www.w3.org/TR/html/references.html#biblio-css3-content)


- 次の要素と属性には、レンダリングセクションで定義された、全てのUA向けの要件があります
    - 推奨のデフォルトレンダリングをサポートするものだけではありません

- dir属性
- `<bdi>`要素
- `<bdo>`要素
- `<br>`要素
- `<pre>`要素
- `<textarea>`要素
- `<wbr>`要素
